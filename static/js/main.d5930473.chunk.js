(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){e.exports=a(272)},154:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"MEMBER_UPDATE_SELECTED_CANDIDATES",function(){return H}),a.d(n,"MEMBER_LOGIN",function(){return R}),a.d(n,"updateMemberSelectedCandidates",function(){return W}),a.d(n,"storeLoginMemberData",function(){return z});var r=a(0),i=a.n(r),c=a(113),o=a.n(c),l=(a(154),a(11)),u=a(12),s=a(15),d=a(13),m=a(16),p=(a(155),a(81)),b=a(21),f=a(274),h=a(14),y=a(277),j=a(278),O=a(22),g=a(115),v=a.n(g),E=a(275),k=a(273),C=a(5),w="\u7121\u9ee8\u7c4d",P="\u6c11\u9032\u9ee8",x="\u570b\u6c11\u9ee8",M=[{id:1,name:"\u67ef\u6587\u647a",politicalParty:w},{id:2,name:"\u8521\u82f1\u805e",politicalParty:P},{id:3,name:"\u53ee\u5b88\u4e2d",politicalParty:x},{id:4,name:"\u5433\u855a\u7f8a",politicalParty:w},{id:5,name:"\u67ef\u6587\u647a2\u865f",politicalParty:w},{id:6,name:"\u8521\u82f1\u805e2\u865f",politicalParty:P},{id:7,name:"\u53ee\u5b88\u4e2d2\u865f",politicalParty:x}],I=a(36),D={description:{marginLeft:8}},T=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onClickCheckbox",value:function(e){var t=this.props.input,a=t.value,n=t.onChange,r=a.findIndex(function(t){return t.id===e.id});n(~r?[].concat(Object(I.a)(a.slice(0,r)),Object(I.a)(a.slice(r+1))):[].concat(Object(I.a)(a),[Object(O.a)({},e)]))}},{key:"render",value:function(){var e=this,t=this.props,a=t.candidate,n=t.input.value;return void 0!==n&&n?i.a.createElement("div",{key:a.id},i.a.createElement("input",{type:"checkbox",name:a.name,onChange:function(t){return e.onClickCheckbox(a)},checked:!!~n.findIndex(function(e){return parseInt(e.id,10)===a.id}),value:a}),i.a.createElement("span",{style:D.description},a.name,"/ ",a.politicalParty)):null}}]),t}(r.PureComponent),S=Object(b.a)(T),L=a(276),_=a(144),N={me:{id:"",name:"",email:"",accessToken:""},selectedCandidates:[]};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type[0]){case R:return Object(O.a)({},e,{me:{id:t.member.id,name:t.member.name,email:t.member.email,accessToken:t.member.accessToken}});case H:return Object(O.a)({},e,{selectedCandidates:Object(I.a)(t.selectedCandidates)})}return e},B=Object(C.c)({Member:A,form:L.a}),F=Object(C.d)(B,Object(C.a)(_.a)),H="MEMBER/UPDATE_SELECTED_CANDIDATES",R="MEMBER/LOGIN";function W(e){return function(){return F.dispatch({type:[H],selectedCandidates:e})}}function z(e){return function(){return F.dispatch({type:[R],member:e})}}var G="\u7248OO",J=[{id:1,name:"\u67ef\u6587\u647a",politicalParty:w},{id:2,name:"\u8521\u82f1\u805e",politicalParty:P},{id:5,name:"\u67ef\u6587\u647a2\u865f",politicalParty:w}],U={wrapper:{padding:64,display:"flex",alignItems:"flex-start",justifyContent:"center"},list:{height:100},data:{marginLeft:8},button:{marginTop:16,display:"block"},activePage:{color:"brown",fontSize:15}},V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={pageIndex:0},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.me,a=e.history;t.accessToken||a.replace("/")}},{key:"onClickPage",value:function(e){this.setState({pageIndex:e-1})}},{key:"submit",value:function(e){var t=e.candidates,a=this.props,n=a.history,r=a.updateMemberSelectedCandidates;console.log("\u9078\u53d6\u7684\u5019\u9078\u4eba:",t),alert("\u9078\u53d6\u5019\u9078\u4eba: ".concat(t.map(function(e){return e.name}).join("\u3001"))),r(t),n.push("/1/selectedCandidates")}},{key:"render",value:function(){var e=this,t=this.state.pageIndex,a=this.props,n=a.handleSubmit,r=a.userName;return i.a.createElement("div",{style:U.wrapper},i.a.createElement("form",{onSubmit:n(function(t){return e.submit(t)})},i.a.createElement("h1",null,"Hi ",r||G,", \u8acb\u9078\u64c7\u652f\u6301\u7684\u5019\u9078\u4eba"),i.a.createElement("div",{style:U.list},v.a.chunk(M,4)[t].map(function(e){return i.a.createElement(E.a,{name:"candidates",component:S,key:e.id,candidate:e})})),i.a.createElement("button",{type:"button",style:[0===t&&U.activePage],onClick:function(){return e.onClickPage(1)}},"1"),i.a.createElement("button",{type:"button",style:[1===t&&U.activePage],onClick:function(){return e.onClickPage(2)}},"2"),i.a.createElement("input",{style:U.button,type:"submit",value:"\u9001\u51fa"})))}}]),t}(r.PureComponent),$=Object(k.a)({form:"candidates_form",initialValues:{candidates:[]}}),q=Object(h.b)(function(e){return{userName:e.Member.me.name,me:e.Member.me}},function(e){return Object(C.b)(Object(O.a)({},n),e)})($(Object(b.a)(V))),K=a(145),Q=a.n(K),X={wrapper:{backgroundColor:"#8f755e",height:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{color:"#ffca31"},fbLoginBtn:{color:"#ffffff",fontSize:15,":hover":{color:"rgb(222, 214, 103)"},display:"none"}},Y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"loginWithFacebook",value:function(e){var t=this.props,a=t.history,n=t.storeLoginMemberData;e.email&&(alert("\u6210\u529f\u767b\u5165"),console.log(e),n({id:e.id,name:e.name,email:e.email,accessToken:e.accessToken}),a.push("candidates"))}},{key:"render",value:function(){var e=this;return console.log(this.props),i.a.createElement("div",{style:X.wrapper},i.a.createElement("h1",{style:X.title},"\u767b\u5165\u6295\u7968\u6307\u5357"),i.a.createElement(Q.a,{appId:"126909908010825",autoLoad:!0,fields:"name,email,picture",callback:function(t){return e.loginWithFacebook(t)}}))}}]),t}(r.PureComponent),Z=Object(h.b)(function(e){return e},function(e){return Object(C.b)(Object(O.a)({},n),e)})(Object(b.a)(Y)),ee={wrapper:{padding:64,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},candidates:{margin:"16px 0"},candidate:{margin:"0 0 8px"}},te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedCandidates,a=e.me,n="".concat("https://julia30040.github.io","/facebook_login/1/selectedCandidates");return i.a.createElement("div",{style:ee.wrapper},i.a.createElement("h2",null,a.name||G," \u652f\u6301\u7684\u5019\u9078\u4eba"),i.a.createElement("div",{style:ee.candidates},(t.length?t:J).map(function(e){return i.a.createElement("div",{key:e.id,style:ee.candidate},"- ",e.name,"/ ",e.politicalParty)})),i.a.createElement("div",{className:"fb-share-button","data-href":n,"data-layout":"button","data-size":"large","data-mobile-iframe":"true"},i.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjulia30040.github.io%2Ffacebook_login%2F&src=sdkpreparse",className:"fb-xfbml-parse-ignore"},"\u5206\u4eab")))}}]),t}(r.PureComponent),ae=Object(h.b)(function(e){return{selectedCandidates:e.Member.selectedCandidates,me:e.Member.me}})(Object(b.a)(te)),ne=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(r.Fragment,null,i.a.createElement(y.a,null,i.a.createElement(j.a,{exact:!0,path:"/candidates",component:q}),i.a.createElement(j.a,{exact:!0,path:"/:memberId/selectedCandidates",component:ae}),i.a.createElement(j.a,{path:"/",component:Z})))}}]),t}(r.Component);var re={fullHeight:{height:"100%"},wrapper:{overflow:"hidden"}},ie=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(h.a,{store:F},i.a.createElement(p.a,{style:re.fullHeight},i.a.createElement(f.a,null,i.a.createElement("div",{style:[re.wrapper,re.fullHeight]},i.a.createElement(ne,null)))))}}]),t}(r.Component),ce=Object(b.a)(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[149,1,2]]]);
//# sourceMappingURL=main.d5930473.chunk.js.map
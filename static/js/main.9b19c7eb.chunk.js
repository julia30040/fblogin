(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,n){e.exports=n(272)},154:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"MEMBER_UPDATE_SELECTED_CANDIDATES",function(){return R}),n.d(a,"MEMBER_LOGIN",function(){return W}),n.d(a,"updateMemberSelectedCandidates",function(){return F}),n.d(a,"storeLoginMemberData",function(){return z});var i=n(0),r=n.n(i),c=n(113),o=n.n(c),l=(n(154),n(15)),u=n(16),s=n(19),d=n(17),m=n(20),p=(n(155),n(81)),b=n(25),f=n(274),h=n(18),y=n(277),O=n(278),j=n(21),v=n(115),E=n.n(v),g=n(275),k=n(273),C=n(5),w="\u7121\u9ee8\u7c4d",P="\u6c11\u9032\u9ee8",M="\u570b\u6c11\u9ee8",x=[{id:1,name:"\u67ef\u6587\u647a",politicalParty:w},{id:2,name:"\u8521\u82f1\u805e",politicalParty:P},{id:3,name:"\u53ee\u5b88\u4e2d",politicalParty:M},{id:4,name:"\u5433\u855a\u7f8a",politicalParty:w},{id:5,name:"\u67ef\u6587\u647a2\u865f",politicalParty:w},{id:6,name:"\u8521\u82f1\u805e2\u865f",politicalParty:P},{id:7,name:"\u53ee\u5b88\u4e2d2\u865f",politicalParty:M}],I=n(36),T={description:{marginLeft:8}},D=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onClickCheckbox",value:function(e){var t=this.props.input,n=t.value,a=t.onChange,i=n.findIndex(function(t){return t.id===e.id});a(~i?[].concat(Object(I.a)(n.slice(0,i)),Object(I.a)(n.slice(i+1))):[].concat(Object(I.a)(n),[Object(j.a)({},e)]))}},{key:"render",value:function(){var e=this,t=this.props,n=t.candidate,a=t.input.value;return void 0!==a&&a?r.a.createElement("div",{key:n.id},r.a.createElement("input",{type:"checkbox",name:n.name,onChange:function(t){return e.onClickCheckbox(n)},checked:!!~a.findIndex(function(e){return parseInt(e.id,10)===n.id}),value:n}),r.a.createElement("span",{style:T.description},n.name,"/ ",n.politicalParty)):null}}]),t}(i.PureComponent),S=Object(b.a)(D),L=n(276),B=n(144),_={me:{id:"",name:"",email:"",accessToken:""},selectedCandidates:[]};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type[0]){case W:return Object(j.a)({},e,{me:{id:t.member.id,name:t.member.name,email:t.member.email,accessToken:t.member.accessToken}});case R:return Object(j.a)({},e,{selectedCandidates:Object(I.a)(t.selectedCandidates)})}return e},N=Object(C.c)({Member:A,form:L.a}),H=Object(C.d)(N,Object(C.a)(B.a)),R="MEMBER/UPDATE_SELECTED_CANDIDATES",W="MEMBER/LOGIN";function F(e){return function(){return H.dispatch({type:[R],selectedCandidates:e})}}function z(e){return function(){return H.dispatch({type:[W],member:e})}}var G="\u7248OO",J={wrapper:{padding:64,display:"flex",alignItems:"flex-start",justifyContent:"center"},list:{height:100},data:{marginLeft:8},button:{marginTop:16,display:"block"},activePage:{color:"brown",fontSize:15}},U=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={pageIndex:0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.me,n=e.history;t.accessToken||n.replace("/")}},{key:"onClickPage",value:function(e){this.setState({pageIndex:e-1})}},{key:"submit",value:function(e){var t=e.candidates,n=this.props,a=n.history,i=n.updateMemberSelectedCandidates;console.log("\u9078\u53d6\u7684\u5019\u9078\u4eba:",t),alert("\u9078\u53d6\u5019\u9078\u4eba: ".concat(t.map(function(e){return e.name}).join("\u3001"))),i(t),a.push("/1/selectedCandidates")}},{key:"render",value:function(){var e=this,t=this.state.pageIndex,n=this.props,a=n.handleSubmit,i=n.userName;return r.a.createElement("div",{style:J.wrapper},r.a.createElement("form",{onSubmit:a(function(t){return e.submit(t)})},r.a.createElement("h1",null,"Hi ",i||G,", \u8acb\u9078\u64c7\u652f\u6301\u7684\u5019\u9078\u4eba"),r.a.createElement("div",{style:J.list},E.a.chunk(x,4)[t].map(function(e){return r.a.createElement(g.a,{name:"candidates",component:S,key:e.id,candidate:e})})),r.a.createElement("button",{type:"button",style:[0===t&&J.activePage],onClick:function(){return e.onClickPage(1)}},"1"),r.a.createElement("button",{type:"button",style:[1===t&&J.activePage],onClick:function(){return e.onClickPage(2)}},"2"),r.a.createElement("input",{style:J.button,type:"submit",value:"\u9001\u51fa"})))}}]),t}(i.PureComponent),V=Object(k.a)({form:"candidates_form",initialValues:{candidates:[]}}),$=Object(h.b)(function(e){return{userName:e.Member.me.name,me:e.Member.me}},function(e){return Object(C.b)(Object(j.a)({},a),e)})(V(Object(b.a)(U))),q=n(145),K=n.n(q),Q={wrapper:{backgroundColor:"#8f755e",height:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{color:"#ffca31"},fbLoginBtn:{color:"#ffffff",fontSize:15,":hover":{color:"rgb(222, 214, 103)"},display:"none"}},X=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"loginWithFacebook",value:function(e){var t=this.props,n=t.history,a=t.storeLoginMemberData;e.email&&(alert("\u6210\u529f\u767b\u5165"),console.log(e),a({id:e.id,name:e.name,email:e.email,accessToken:e.accessToken}),n.push("candidates"))}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{style:Q.wrapper},r.a.createElement("h1",{style:Q.title},"\u767b\u5165\u6295\u7968\u6307\u5357"),r.a.createElement(K.a,{appId:"126909908010825",autoLoad:!0,fields:"name,email,picture",callback:function(t){return e.loginWithFacebook(t)}}))}}]),t}(i.PureComponent),Y=Object(h.b)(function(e){return e},function(e){return Object(C.b)(Object(j.a)({},a),e)})(Object(b.a)(X)),Z=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(i.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{exact:!0,path:"/candidates",component:$}),r.a.createElement(O.a,{path:"/",component:Y})))}}]),t}(i.Component);var ee={fullHeight:{height:"100%"},wrapper:{overflow:"hidden"}},te=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:H},r.a.createElement(p.a,{style:ee.fullHeight},r.a.createElement(f.a,null,r.a.createElement("div",{style:[ee.wrapper,ee.fullHeight]},r.a.createElement(Z,null)))))}}]),t}(i.Component),ne=Object(b.a)(te);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[149,1,2]]]);
//# sourceMappingURL=main.9b19c7eb.chunk.js.map
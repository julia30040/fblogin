(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){e.exports=a(274)},156:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"MEMBER_UPDATE_SELECTED_CANDIDATES",function(){return R}),a.d(n,"MEMBER_LOGIN",function(){return W}),a.d(n,"updateMemberSelectedCandidates",function(){return z}),a.d(n,"storeLoginMemberData",function(){return G});var i=a(0),r=a.n(i),c=a(115),o=a.n(c),l=(a(156),a(11)),s=a(12),u=a(15),d=a(13),m=a(16),p=(a(157),a(83)),b=a(21),f=a(277),h=a(14),y=a(281),j=a(275),O=a(280),g=a(22),v=a(117),E=a.n(v),k=a(278),C=a(276),w=a(5),P="\u7121\u9ee8\u7c4d",x="\u6c11\u9032\u9ee8",M="\u570b\u6c11\u9ee8",I=[{id:1,name:"\u67ef\u6587\u647a",politicalParty:P},{id:2,name:"\u8521\u82f1\u805e",politicalParty:x},{id:3,name:"\u53ee\u5b88\u4e2d",politicalParty:M},{id:4,name:"\u5433\u855a\u7f8a",politicalParty:P},{id:5,name:"\u67ef\u6587\u647a2\u865f",politicalParty:P},{id:6,name:"\u8521\u82f1\u805e2\u865f",politicalParty:x},{id:7,name:"\u53ee\u5b88\u4e2d2\u865f",politicalParty:M}],T=a(36),D={description:{marginLeft:8}},S=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onClickCheckbox",value:function(e){var t=this.props.input,a=t.value,n=t.onChange,i=a.findIndex(function(t){return t.id===e.id});n(~i?[].concat(Object(T.a)(a.slice(0,i)),Object(T.a)(a.slice(i+1))):[].concat(Object(T.a)(a),[Object(g.a)({},e)]))}},{key:"render",value:function(){var e=this,t=this.props,a=t.candidate,n=t.input.value;return void 0!==n&&n?r.a.createElement("div",{key:a.id},r.a.createElement("input",{type:"checkbox",name:a.name,onChange:function(t){return e.onClickCheckbox(a)},checked:!!~n.findIndex(function(e){return parseInt(e.id,10)===a.id}),value:a}),r.a.createElement("span",{style:D.description},a.name,"/ ",a.politicalParty)):null}}]),t}(i.PureComponent),L=Object(b.a)(S),_=a(279),F=a(146),N={me:{id:"",name:"",email:"",accessToken:""},selectedCandidates:[]};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type[0]){case W:return Object(g.a)({},e,{me:{id:t.member.id,name:t.member.name,email:t.member.email,accessToken:t.member.accessToken}});case R:return Object(g.a)({},e,{selectedCandidates:Object(T.a)(t.selectedCandidates)})}return e},B=Object(w.c)({Member:A,form:_.a}),H=Object(w.d)(B,Object(w.a)(F.a)),R="MEMBER/UPDATE_SELECTED_CANDIDATES",W="MEMBER/LOGIN";function z(e){return function(){return H.dispatch({type:[R],selectedCandidates:e})}}function G(e){return function(){return H.dispatch({type:[W],member:e})}}var J="\u7248OO",U=[{id:1,name:"\u67ef\u6587\u647a",politicalParty:P},{id:2,name:"\u8521\u82f1\u805e",politicalParty:x},{id:5,name:"\u67ef\u6587\u647a2\u865f",politicalParty:P}],V={wrapper:{padding:64,display:"flex",alignItems:"flex-start",justifyContent:"center"},list:{height:100},data:{marginLeft:8},button:{marginTop:16,display:"block"},activePage:{color:"brown",fontSize:15}},$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={pageIndex:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.me,a=e.history;t.accessToken||a.replace("/")}},{key:"onClickPage",value:function(e){this.setState({pageIndex:e-1})}},{key:"submit",value:function(e){var t=e.candidates,a=this.props,n=a.history,i=a.updateMemberSelectedCandidates;console.log("\u9078\u53d6\u7684\u5019\u9078\u4eba:",t),alert("\u9078\u53d6\u5019\u9078\u4eba: ".concat(t.map(function(e){return e.name}).join("\u3001"))),i(t),n.push("/1/selectedCandidates")}},{key:"render",value:function(){var e=this,t=this.state.pageIndex,a=this.props,n=a.handleSubmit,i=a.userName;return r.a.createElement("div",{style:V.wrapper},r.a.createElement("form",{onSubmit:n(function(t){return e.submit(t)})},r.a.createElement("h1",null,"Hi ",i||J,", \u8acb\u9078\u64c7\u652f\u6301\u7684\u5019\u9078\u4eba"),r.a.createElement("div",{style:V.list},E.a.chunk(I,4)[t].map(function(e){return r.a.createElement(k.a,{name:"candidates",component:L,key:e.id,candidate:e})})),r.a.createElement("button",{type:"button",style:[0===t&&V.activePage],onClick:function(){return e.onClickPage(1)}},"1"),r.a.createElement("button",{type:"button",style:[1===t&&V.activePage],onClick:function(){return e.onClickPage(2)}},"2"),r.a.createElement("input",{style:V.button,type:"submit",value:"\u9001\u51fa"})))}}]),t}(i.PureComponent),q=Object(C.a)({form:"candidates_form",initialValues:{candidates:[]}}),K=Object(h.b)(function(e){return{userName:e.Member.me.name,me:e.Member.me}},function(e){return Object(w.b)(Object(g.a)({},n),e)}),Q=Object(O.a)(K(q(Object(b.a)($)))),X=a(149),Y=a.n(X),Z={wrapper:{backgroundColor:"#8f755e",height:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},title:{color:"#ffca31"},fbLoginBtn:{color:"#ffffff",fontSize:15,":hover":{color:"rgb(222, 214, 103)"},display:"none"}},ee=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"loginWithFacebook",value:function(e){var t=this.props,a=t.history,n=t.storeLoginMemberData;e.email?(alert("\u6210\u529f\u767b\u5165"),console.log("get Facebook user data:",{id:e.id,name:e.name,email:e.email,accessToken:e.accessToken}),n({id:e.id,name:e.name,email:e.email,accessToken:e.accessToken}),a.push("/candidates")):alert("\u9700\u8981 email \u6b0a\u9650")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:Z.wrapper},r.a.createElement("h1",{style:Z.title},"\u767b\u5165\u6295\u7968\u6307\u5357"),r.a.createElement(Y.a,{appId:"126909908010825",autoLoad:!0,fields:"name,email,picture",callback:function(t){return e.loginWithFacebook(t)}}))}}]),t}(i.PureComponent),te=Object(h.b)(function(e){return e},function(e){return Object(w.b)(Object(g.a)({},n),e)}),ae=Object(O.a)(te(Object(b.a)(ee))),ne={wrapper:{padding:64,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},candidates:{margin:"16px 0"},candidate:{margin:"0 0 8px"}},ie=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedCandidates,a=e.me,n="".concat("https://blockstudio.tw/display","/fblogin/1/selectedCandidates");return r.a.createElement("div",{style:ne.wrapper},r.a.createElement("h2",null,a.name||J," \u652f\u6301\u7684\u5019\u9078\u4eba"),r.a.createElement("div",{style:ne.candidates},(t.length?t:U).map(function(e){return r.a.createElement("div",{key:e.id,style:ne.candidate},"- ",e.name,"/ ",e.politicalParty)})),r.a.createElement("div",{className:"fb-share-button","data-href":n,"data-layout":"button","data-size":"large","data-mobile-iframe":"true"},r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fjulia30040.github.io%2Ffacebook_login%2F&src=sdkpreparse",className:"fb-xfbml-parse-ignore"},"\u5206\u4eab")))}}]),t}(i.PureComponent),re=Object(h.b)(function(e){return{selectedCandidates:e.Member.selectedCandidates,me:e.Member.me}}),ce=Object(O.a)(re(Object(b.a)(ie))),oe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(i.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(j.a,{exact:!0,path:"/candidates",component:Q}),r.a.createElement(j.a,{exact:!0,path:"/:memberId/selectedCandidates",component:ce}),r.a.createElement(j.a,{path:"/",component:ae})))}}]),t}(i.Component),le=Object(O.a)(oe);var se={fullHeight:{height:"100%"},wrapper:{overflow:"hidden"}},ue=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(window.history),r.a.createElement(p.a,{style:se.fullHeight},r.a.createElement(h.a,{store:H},r.a.createElement(f.a,null,r.a.createElement("div",{style:[se.wrapper,se.fullHeight]},r.a.createElement(le,null)))))}}]),t}(i.Component),de=Object(b.a)(ue);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[151,1,2]]]);
//# sourceMappingURL=main.8c4c7e82.chunk.js.map